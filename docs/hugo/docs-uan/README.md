# UAN Docs generated by Hugo

In this directory are all the files needed to generate UAN
documentation in static HTML format from the markdown source.

## Building the HTML Documentation

To build the HTML files for the UAN documentation, run the
`bin/build.sh` script from the `docs/hugo/docs-uan` directory.

The `bin/build.sh` script performs the following steps:

1. Clone the UAN markdown docs from the `uan-product-stream`
GitHub repo to `docs/hugo/docs-uan/docs-uan/<branch>` for each
branch listed in the `BRANCHES` array variable defined in
`bin/build.sh`.

    1. By default, the `main` branch of the
    `uan-product-stream` is cloned.  The branches to be
    cloned are defined by the `BRANCHES` array variable in
    `bin/build.sh`.

        ```bash
        BRANCHES=(main)
        ```

    1. When additional branches are defined in `BRANCHES`,
    new Hugo `languages` must be defined in
    `docs/hugo/docs-uan/config.toml` for each new branch.
    For example, here is the entry for the `main` branch which
    corresponds to the UAN-2.3 release.  The language name is
    `en-23`, the `contentDir` value is the location where Hugo
    creates the HTML content relative to
    `docs/hugo/docs-uan`.  This path will always be
    `content/<branch>`.  For each additional branch/language,
    increase the `weight` value by 10.  The `landingPageURL`
    defines where the branch/language HTML pages will start
    on the webserver.

        ```bash
        [languages]
          [languages.en-23]
            contentDir = "content/main"
            languageName = "2.3"
            weight = 10
            landingPageURL = "/docs-uan/en-23"
        ```

1. Prepare the contents of the UAN documentation markdown
files for use with Hugo.  These files will be in placed in
the `docs/hugo/docs-uan/content` directory.

1. Generate the HTML files from the
`docs/hugo/docs-uan/content` and place them in the
`docs/hugo/docs-uan/public` directory.

## Viewing the HTML UAN Documentation

To view the generated documentation locally, run the
`bin/dev.sh` script from `docs/hugo/docs-uan`.  The
`bin/dev.sh` script starts a webserver and hosts the
UAN documentation at `http://localhost/uan`.

Alternatively, the contents of `docs/hugo/docs-uan/public`
may be copied to any webserver.
